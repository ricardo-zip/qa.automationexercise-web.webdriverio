steps:
  - name: Checkout code
    uses: actions/checkout@v4

  - name: Setup Node.js
    uses: actions/setup-node@v4
    with:
      node-version: 18

  - name: Install dependencies
    run: npm install

  - name: Run WebdriverIO tests
    run: npm run test

  - name: Generate Allure Report
    run: |
      npm run allure:generate
      ls -la allure-report  # Debug: lista o conte√∫do para confirmar que foi gerado

  - name: Upload Allure Report as artifact
    if: success()
    uses: actions/upload-artifact@v4
    with:
      name: allure-report
      path: allure-report
